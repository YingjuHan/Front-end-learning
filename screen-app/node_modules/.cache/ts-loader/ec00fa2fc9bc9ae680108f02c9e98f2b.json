{"remainingRequest":"D:\\learning\\Front-end-learning\\screen-app\\node_modules\\ts-loader\\index.js??ref--13-1!D:\\learning\\Front-end-learning\\screen-app\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\learning\\Front-end-learning\\screen-app\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!D:\\learning\\Front-end-learning\\screen-app\\src\\views\\operation-screen\\index.vue?vue&type=script&lang=ts","dependencies":[{"path":"D:\\learning\\Front-end-learning\\screen-app\\src\\views\\operation-screen\\index.vue","mtime":1689566316578},{"path":"D:\\learning\\Front-end-learning\\screen-app\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1688205055727},{"path":"D:\\learning\\Front-end-learning\\screen-app\\node_modules\\ts-loader\\index.js","mtime":1688205082583},{"path":"D:\\learning\\Front-end-learning\\screen-app\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1688205055727},{"path":"D:\\learning\\Front-end-learning\\screen-app\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1689087535062}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgX19hc3NpZ24gfSBmcm9tICJ0c2xpYiI7DQppbXBvcnQgTGluZU5ldCBmcm9tICIuL0xpbmVOZXQudnVlIjsNCmltcG9ydCBCdXMgZnJvbSAiLi9CdXMudnVlIjsNCmltcG9ydCBHZXRvdXRSZWFzb25zIGZyb20gIi4vR2V0b3V0UmVhc29ucy52dWUiOw0KaW1wb3J0IEFyZWFQYXNzZW5nZXJTdGF0IGZyb20gIi4vQXJlYVBhc3NlbmdlclN0YXQudnVlIjsNCmltcG9ydCBDYXJkVHlwZVVzZSBmcm9tICIuL0NhcmRUeXBlVXNlLnZ1ZSI7DQppbXBvcnQgVHJhbnNwb3J0UGFzc2VuZ2VyUmFuayBmcm9tICIuL1RyYW5zcG9ydFBhc3NlbmdlclJhbmsudnVlIjsNCmltcG9ydCBFUGF5VHJlbmQgZnJvbSAiLi9FUGF5VHJlbmQudnVlIjsNCmltcG9ydCBTY3JlZW5IZWFkZXIgZnJvbSAiQC9jb21wb25lbnRzL1NjcmVlbkhlYWRlci52dWUiOw0KaW1wb3J0IHsgZGVmaW5lQ29tcG9uZW50LCByZWFjdGl2ZSwgdG9SZWZzLCBtYXJrUmF3LCByZWYsIGNvbXB1dGVkLCBuZXh0VGljaywgb25CZWZvcmVVcGRhdGUsIH0gZnJvbSAidnVlIjsNCmltcG9ydCBUaW1lVGFicyBmcm9tICJAL2NvbXBvbmVudHMvVGltZVRhYnMudnVlIjsNCmltcG9ydCB7IHVzZVN0b3JlIH0gZnJvbSAidnVleCI7DQovLyBpbXBvcnQgeyBpbml0V2ViU29ja2V0IH0gZnJvbSAiQC91dGlscy93ZWJzb2NrZXQiOw0KZXhwb3J0IGRlZmF1bHQgZGVmaW5lQ29tcG9uZW50KHsNCiAgICBuYW1lOiAib3BlcmF0aW9uLXNjcmVlbiIsDQogICAgY29tcG9uZW50czogew0KICAgICAgICBMaW5lTmV0OiBMaW5lTmV0LA0KICAgICAgICBHZXRvdXRSZWFzb25zOiBHZXRvdXRSZWFzb25zLA0KICAgICAgICBBcmVhUGFzc2VuZ2VyU3RhdDogQXJlYVBhc3NlbmdlclN0YXQsDQogICAgICAgIENhcmRUeXBlVXNlOiBDYXJkVHlwZVVzZSwNCiAgICAgICAgVHJhbnNwb3J0UGFzc2VuZ2VyUmFuazogVHJhbnNwb3J0UGFzc2VuZ2VyUmFuaywNCiAgICAgICAgRVBheVRyZW5kOiBFUGF5VHJlbmQsDQogICAgICAgIFNjcmVlbkhlYWRlcjogU2NyZWVuSGVhZGVyLA0KICAgICAgICBCdXM6IEJ1cywNCiAgICAgICAgVGltZVRhYnM6IFRpbWVUYWJzLA0KICAgIH0sDQogICAgc2V0dXA6IGZ1bmN0aW9uICgpIHsNCiAgICAgICAgdmFyIG9wdGlvbnMgPSByZWFjdGl2ZSh7DQogICAgICAgICAgICB0aXRsZVRleHQ6ICLlhazkuqTlpKfmlbDmja7ov5DokKXmlbDmja7liIbmnpAiLA0KICAgICAgICAgICAgbGF5b3V0OiBbDQogICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICB0aXRsZTogIue6v+e9kSIsDQogICAgICAgICAgICAgICAgICAgIG5hbWU6ICJsaW5lLW5ldCIsDQogICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgIHRpdGxlOiAi6L2m6L6GIiwNCiAgICAgICAgICAgICAgICAgICAgbmFtZTogImJ1cyIsDQogICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgIHRpdGxlOiAi6L+d6KeE5Y6f5Zug5YiG5p6QIiwNCiAgICAgICAgICAgICAgICAgICAgbmFtZTogImdldG91dC1yZWFzb25zIiwNCiAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICJcdTUzNjFcdTdDN0JcdTU3OEJcdTRGN0ZcdTc1MjhcdTYwQzVcdTUxQjUiLA0KICAgICAgICAgICAgICAgICAgICBuYW1lOiAiY2FyZC10eXBlLXVzZSIsDQogICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgIHRpdGxlOiAi5Yy65Z+f5a6i5rWB57uf6K6hIiwNCiAgICAgICAgICAgICAgICAgICAgbmFtZTogImFyZWEtcGFzc2VuZ2VyLXN0YXQiLA0KICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICB0aXRsZTogIlx1N0VCRlx1OERFRlx1OEZEMFx1NUJBMlx1NjU3MFx1NjM5Mlx1NTQwRCIsDQogICAgICAgICAgICAgICAgICAgIG5hbWU6ICJ0cmFuc3BvcnQtcGFzc2VuZ2VyLXJhbmsiLA0KICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICB0aXRsZTogIlx1NzUzNVx1NUI1MFx1NjUyRlx1NEVEOFx1OEQ4Qlx1NTJCRiIsDQogICAgICAgICAgICAgICAgICAgIG5hbWU6ICJlLXBheS10cmVuZCIsDQogICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgIF0sDQogICAgICAgIH0pOw0KICAgICAgICB2YXIgZGF0YUFyciA9IG1hcmtSYXcoWw0KICAgICAgICAgICAgeyBsYWJlbDogIuaXpSIsIHZhbHVlOiAwIH0sDQogICAgICAgICAgICB7IGxhYmVsOiAi5ZGoIiwgdmFsdWU6IDEgfSwNCiAgICAgICAgICAgIHsgbGFiZWw6ICLmnIgiLCB2YWx1ZTogMiB9LA0KICAgICAgICAgICAgeyBsYWJlbDogIuW5tCIsIHZhbHVlOiAzIH0sDQogICAgICAgIF0pOw0KICAgICAgICB2YXIgc3RvcmUgPSB1c2VTdG9yZSgpOyAvL+iwg+eUqG11dGF0aW9u5pa55rOVDQogICAgICAgIHZhciBzY3JlZW5EYXRhVHlwZSA9IGNvbXB1dGVkKGZ1bmN0aW9uICgpIHsNCiAgICAgICAgICAgIHJldHVybiBzdG9yZS5nZXR0ZXJzWyJhcHAtZ2xvYmFsL0dFVF9EQVRBVFlQRSJdOw0KICAgICAgICB9KTsNCiAgICAgICAgdmFyIGN1clR5cGUgPSByZWYoc2NyZWVuRGF0YVR5cGUudmFsdWUpOw0KICAgICAgICAvL+WIt+aWsOaVsOaNrg0KICAgICAgICB2YXIgaXRlbVJlZnMgPSBbXTsNCiAgICAgICAgdmFyIHNldEl0ZW1SZWYgPSBmdW5jdGlvbiAoZWwpIHsNCiAgICAgICAgICAgIGlmIChlbCkgew0KICAgICAgICAgICAgICAgIGl0ZW1SZWZzLnB1c2goZWwpOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9Ow0KICAgICAgICBmdW5jdGlvbiBvbkNoYW5nZSh2YWwpIHsNCiAgICAgICAgICAgIGN1clR5cGUudmFsdWUgPSB2YWw7DQogICAgICAgICAgICBzdG9yZS5jb21taXQoImFwcC1nbG9iYWwvU0VUX0RBVEFUWVBFIiwgdmFsKTsNCiAgICAgICAgICAgIG5leHRUaWNrKGZ1bmN0aW9uICgpIHsNCiAgICAgICAgICAgICAgICBpdGVtUmVmcy5mb3JFYWNoKGZ1bmN0aW9uIChuKSB7DQogICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCJrZXkiLCBuLCBuLmluaXREYXRhKTsNCiAgICAgICAgICAgICAgICAgICAgbi5pbml0RGF0YSAmJiBuLmluaXREYXRhKCk7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUNCiAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgIH0pOw0KICAgICAgICB9DQogICAgICAgIC8v5pWw5o2u5Y+Y5YyW5ZCO6YeN572u5pWw57uEDQogICAgICAgIG9uQmVmb3JlVXBkYXRlKGZ1bmN0aW9uICgpIHsNCiAgICAgICAgICAgIGl0ZW1SZWZzID0gW107DQogICAgICAgIH0pOw0KICAgICAgICByZXR1cm4gX19hc3NpZ24oX19hc3NpZ24oe30sIHRvUmVmcyhvcHRpb25zKSksIHsgZGF0YUFycjogZGF0YUFyciwNCiAgICAgICAgICAgIGN1clR5cGU6IGN1clR5cGUsDQogICAgICAgICAgICBvbkNoYW5nZTogb25DaGFuZ2UsDQogICAgICAgICAgICBzZXRJdGVtUmVmOiBzZXRJdGVtUmVmIH0pOw0KICAgIH0sDQp9KTsNCg=="},{"version":3,"file":"D:\\learning\\Front-end-learning\\screen-app\\src\\views\\operation-screen\\index.vue.ts","sourceRoot":"","sources":["D:\\learning\\Front-end-learning\\screen-app\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\learning\\Front-end-learning\\screen-app\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!D:\\learning\\Front-end-learning\\screen-app\\src\\views\\operation-screen\\index.vue?vue&type=script&lang=ts"],"names":[],"mappings":"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","sourcesContent":["\r\nimport LineNet from \"./LineNet.vue\";\r\nimport Bus from \"./Bus.vue\";\r\nimport GetoutReasons from \"./GetoutReasons.vue\";\r\nimport AreaPassengerStat from \"./AreaPassengerStat.vue\";\r\nimport CardTypeUse from \"./CardTypeUse.vue\";\r\nimport TransportPassengerRank from \"./TransportPassengerRank.vue\";\r\nimport EPayTrend from \"./EPayTrend.vue\";\r\nimport ScreenHeader from \"@/components/ScreenHeader.vue\";\r\nimport {\r\n  defineComponent,\r\n  reactive,\r\n  toRefs,\r\n  markRaw,\r\n  ref,\r\n  computed,\r\n  nextTick,\r\n  onBeforeUpdate,\r\n  // onBeforeMount,\r\n} from \"vue\";\r\nimport TimeTabs from \"@/components/TimeTabs.vue\";\r\nimport { useStore } from \"vuex\";\r\n\r\n// import { initWebSocket } from \"@/utils/websocket\";\r\n\r\nexport default defineComponent({\r\n  name: \"operation-screen\",\r\n  components: {\r\n    LineNet,\r\n    GetoutReasons,\r\n    AreaPassengerStat,\r\n    CardTypeUse,\r\n    TransportPassengerRank,\r\n    EPayTrend,\r\n    ScreenHeader,\r\n    Bus,\r\n    TimeTabs,\r\n  },\r\n  setup() {\r\n    let options = reactive({\r\n      titleText: \"公交大数据运营数据分析\",\r\n      layout: [\r\n        {\r\n          title: \"线网\",\r\n          name: \"line-net\",\r\n        },\r\n        {\r\n          title: \"车辆\",\r\n          name: \"bus\",\r\n        },\r\n        {\r\n          title: \"违规原因分析\",\r\n          name: \"getout-reasons\",\r\n        },\r\n        {\r\n          title: `卡类型使用情况`,\r\n          name: \"card-type-use\",\r\n        },\r\n        {\r\n          title: \"区域客流统计\",\r\n          name: \"area-passenger-stat\",\r\n        }, //地图\r\n        {\r\n          title: `线路运客数排名`,\r\n          name: \"transport-passenger-rank\",\r\n        },\r\n        {\r\n          title: `电子支付趋势`,\r\n          name: \"e-pay-trend\",\r\n        },\r\n      ],\r\n    });\r\n    const dataArr = markRaw([\r\n      { label: \"日\", value: 0 },\r\n      { label: \"周\", value: 1 },\r\n      { label: \"月\", value: 2 },\r\n      { label: \"年\", value: 3 },\r\n    ]);\r\n    const store = useStore(); //调用mutation方法\r\n    const screenDataType = computed(() => {\r\n      return store.getters[\"app-global/GET_DATATYPE\"];\r\n    });\r\n    let curType = ref(screenDataType.value);\r\n    //刷新数据\r\n    let itemRefs: any = [];\r\n\r\n    const setItemRef = (el:any) => {\r\n      if (el) {\r\n        itemRefs.push(el);\r\n      }\r\n    };\r\n    function onChange(val:any) {\r\n      curType.value = val;\r\n      store.commit(\"app-global/SET_DATATYPE\", val);\r\n      nextTick(() => {\r\n        itemRefs.forEach((n:any) => {\r\n          console.log(\"key\", n, n.initData);\r\n          n.initData && n.initData(); // eslint-disable-line\r\n        });\r\n      });\r\n    }\r\n    //数据变化后重置数组\r\n    onBeforeUpdate(() => {\r\n      itemRefs = [];\r\n    });\r\n\r\n    return {\r\n      ...toRefs(options),\r\n      dataArr,\r\n      curType,\r\n      onChange,\r\n      setItemRef,\r\n    };\r\n  },\r\n});\r\n"]}]}